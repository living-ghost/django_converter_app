{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Converter - Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="{% static 'css/after_login.css' %}">
</head>
<body>
    <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <header>
        <div class="header-container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-file-export"></i>
                    <span>FileConverter Pro</span>
                </div>
                <div class="user-menu">
                    <div class="" title="Your profile">
                        {{ user }}
                    </div>
                    <form action="{% url 'user_logout' %}" method="post">
                        {% csrf_token %}
                        <button class="btn logout-btn" id="logout-btn">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </header>
    
    <div class="main-wrapper">
        <div class="main-container">
            <div class="main-content">
                <h1>File Conversion Dashboard</h1>
                <p class="page-description">
                    Convert your files between various formats quickly and securely with our powerful conversion tools. 
                    Drag and drop files or click to browse your device. All conversions are encrypted for your privacy.
                </p>
                
                <!-- Document Converters -->
                <div class="converter-section">
                    <h2><i class="fas fa-file-alt"></i> Document Converters</h2>
                    <div class="converter-grid">
                        <div class="converter-card">
                            <form action="{% url 'docx_to_pdf' %}" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <h3><i class="fas fa-file-word docx-icon"></i> DOCX to PDF</h3>
                                <p>Convert Word documents to PDF format while preserving all formatting and layout elements with our high-fidelity conversion engine.</p>
                                
                                <div class="file-input-container">
                                    <label class="file-input-label">Select DOCX file:</label>
                                    <div class="file-input-wrapper">
                                        <span class="file-input-button" id="docx-pdf-label">
                                            <span id="docx-file-name">Choose file</span>
                                            <i class="fas fa-paperclip"></i>
                                        </span>
                                        <input type="file" name="file" class="file-input" id="docx-pdf" accept=".docx,.doc" style="display: none;">
                                    </div>
                                </div>
                                
                                <button class="btn btn-block convert-btn">
                                    <i class="fas fa-file-pdf pdf-icon"></i> Convert to PDF
                                </button>
                            </form>
                        </div>
                        
                        <div class="converter-card">
                            <form action="{% url 'pdf_to_docx' %}" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <h3><i class="fas fa-file-pdf pdf-icon"></i> PDF to DOCX</h3>
                                <p>Transform PDF files into editable Word documents with accurate text recognition and layout preservation.
                                <br><br>    
                                </p>
                                
                                <div class="file-input-container">
                                    <label class="file-input-label">Select PDF file:</label>
                                    <div class="file-input-wrapper">
                                        <span class="file-input-button" id="pdf-docx-label">
                                            <span id="pdf-file-name">Choose file</span>
                                            <i class="fas fa-paperclip"></i>
                                        </span>
                                        <input type="file" name="file" class="file-input" id="pdf-docx" accept=".pdf" style="display: none;">
                                    </div>
                                </div>
                                
                                <button class="btn btn-block convert-btn">
                                    <i class="fas fa-file-word docx-icon"></i> Convert to DOCX
                                </button>
                            </form>
                        </div>
                        
                        <div class="converter-card">
                            <form action="{% url 'docx_to_txt' %}" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <h3><i class="fas fa-file-word docx-icon"></i> DOCX to TXT</h3>
                                <p>Extract plain text content from Word documents without any formatting for clean text output as result.
                                <br><br>
                                </p>

                                <div class="file-input-container">
                                    <label class="file-input-label">Select DOCX file:</label>
                                    <div class="file-input-wrapper">
                                        <span class="file-input-button" id="docx-txt-label">
                                            <span id="docx-file-name">Choose file</span>
                                            <i class="fas fa-paperclip"></i>
                                        </span>
                                        <input type="file" name="file" class="file-input" id="docx-txt" accept=".docx" style="display: none;">
                                    </div>
                                </div>

                                <button class="btn btn-block convert-btn">
                                    <i class="fas fa-file-alt txt-icon"></i> Convert to TXT
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- Image Converters -->
                <div class="converter-section">
                    <h2><i class="fas fa-image"></i> Image Converters</h2>
                    <div class="converter-grid">
                        <div class="converter-card">
                            <form action="{% url 'jpg_to_png' %}" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <h3><i class="fas fa-file-image jpg-icon"></i> JPG to PNG</h3>
                                <p>Convert JPG images to high-quality PNG format with transparency support and lossless compression.</p>

                                <div class="file-input-container">
                                    <label class="file-input-label">Select JPG file:</label>
                                    <div class="file-input-wrapper">
                                        <span class="file-input-button" id="jpg-png-label">
                                            <span id="jpg-file-name">Choose file</span>
                                            <i class="fas fa-paperclip"></i>
                                        </span>
                                        <input type="file" name="file" class="file-input" id="jpg-png" accept=".jpg" style="display: none;">
                                    </div>
                                </div>

                                <button class="btn btn-block convert-btn">
                                    <i class="fas fa-file-image png-icon"></i> Convert to PNG
                                </button>
                            </form>
                        </div>
                        
                        <div class="converter-card">
                            <form action="{% url 'png_to_jpg' %}" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <h3><i class="fas fa-file-image png-icon"></i> PNG to JPG</h3>
                                <p>Transform PNG images to JPG format with customizable quality settings and background options with easy.</p>
                                
                                <div class="file-input-container">
                                    <label class="file-input-label">Select PNG file:</label>
                                    <div class="file-input-wrapper">
                                        <span class="file-input-button" id="png-jpg-label">
                                            <span id="png-file-name">Choose file</span>
                                            <i class="fas fa-paperclip"></i>
                                        </span>
                                        <input type="file" name="file" class="file-input" id="png-jpg" accept=".png" style="display: none;">
                                    </div>
                                </div>
                             
                                <button class="btn btn-block convert-btn">
                                    <i class="fas fa-file-image jpg-icon"></i> Convert to JPG
                                </button>
                            </form>
                        </div>
                        
                        <div class="converter-card">
                            <form action="{% url 'img_to_pdf' %}" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <h3><i class="fas fa-images"></i> Image to PDF</h3>
                                <p>Combine multiple images into a single PDF document with flexible layout and quality options with ease.</p>
                                
                                <div class="file-input-container">
                                    <label class="file-input-label">Select image files:</label>
                                    <div class="file-input-wrapper">
                                        <span class="file-input-button" id="img-pdf-label">
                                            <span id="img-file-name">Choose file</span>
                                            <i class="fas fa-paperclip"></i>
                                        </span>
                                        <input type="file" name="files" class="file-input" id="img-pdf" accept=".png, .jpg, .jpeg, .bmp" style="display: none;">
                                    </div>
                                </div>
                                
                                <button class="btn btn-block convert-btn">
                                    <i class="fas fa-file-pdf pdf-icon"></i> Convert to PDF
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- Other Converters -->
                <div class="converter-section">
                    <h2><i class="fas fa-file"></i> Other Converters</h2>
                    <div class="converter-grid">
                        <div class="converter-card">
                            <h3><i class="fas fa-file-excel xlsx-icon"></i> XLSX to PDF</h3>
                            <p>Convert Excel spreadsheets to PDF with adjustable print settings, page layout, and sheet selection.</p>
                            <div class="file-input-container">
                                <label class="file-input-label">Select XLSX file:</label>
                                <div class="file-input-wrapper">
                                    <span class="file-input-button" id="xlsx-pdf-label">
                                        <span>Choose file</span>
                                        <i class="fas fa-paperclip"></i>
                                    </span>
                                    <input type="file" class="file-input" id="xlsx-pdf" accept=".xlsx,.xls">
                                </div>
                            </div>
                            <button class="btn btn-block convert-btn">
                                <i class="fas fa-file-pdf pdf-icon"></i> Convert to PDF
                            </button>
                        </div>
                        
                        <div class="converter-card">
                            <h3><i class="fas fa-file-powerpoint pptx-icon"></i> PPTX to PDF</h3>
                            <p>Transform PowerPoint presentations into PDF documents with slide range and notes options.</p>
                            <div class="file-input-container">
                                <label class="file-input-label">Select PPTX file:</label>
                                <div class="file-input-wrapper">
                                    <span class="file-input-button" id="pptx-pdf-label">
                                        <span>Choose file</span>
                                        <i class="fas fa-paperclip"></i>
                                    </span>
                                    <input type="file" class="file-input" id="pptx-pdf" accept=".pptx,.ppt">
                                </div>
                            </div>
                            <button class="btn btn-block convert-btn">
                                <i class="fas fa-file-pdf pdf-icon"></i> Convert to PDF
                            </button>
                        </div>
                        
                        <div class="converter-card">
                            <h3><i class="fas fa-file-pdf pdf-icon"></i> PDF to Images</h3>
                            <p>Extract high-resolution images from PDF files with format selection (JPG, PNG) and DPI settings.</p>
                            <div class="file-input-container">
                                <label class="file-input-label">Select PDF file:</label>
                                <div class="file-input-wrapper">
                                    <span class="file-input-button" id="pdf-img-label">
                                        <span>Choose file</span>
                                        <i class="fas fa-paperclip"></i>
                                    </span>
                                    <input type="file" class="file-input" id="pdf-img" accept=".pdf">
                                </div>
                            </div>
                            <button class="btn btn-block convert-btn">
                                <i class="fas fa-file-image"></i> Extract Images
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Right Sidebar -->
        <div class="sidebar">
            {% load file_extras %}  {# If you're using basename filter #}
            <div class="sidebar-section">
                <h3><i class="fas fa-history"></i> Recent Files</h3>
                <div class="recent-files">
                    {% for file in recent_files %}
                        <div class="file-item">
                            <i class="fas fa-file file-icon"></i>
                            <div class="file-info">
                                <div class="file-name">
                                    {% if file.pdf_file %}
                                        <a href="{{ file.pdf_file.url }}" target="_blank">{{ file.pdf_file.name|basename }}</a>
                                    {% elif file.docx_file %}
                                        <a href="{{ file.docx_file.url }}" target="_blank">{{ file.docx_file.name|basename }}</a>
                                    {% elif file.txt_file %}
                                        <a href="{{ file.txt_file.url }}" target="_blank">{{ file.txt_file.name|basename }}</a>
                                    {% elif file.jpg_file %}
                                        <a href="{{ file.jpg_file.url }}" target="_blank">{{ file.jpg_file.name|basename }}</a>
                                    {% elif file.png_file %}
                                        <a href="{{ file.png_file.url }}" target="_blank">{{ file.png_file.name|basename }}</a>
                                    {% elif file.img_file %}
                                        <a href="{{ file.img_file.url }}" target="_blank">{{ file.img_file.name|basename }}</a>
                                    {% endif %}
                                </div>
                                <div class="file-date">Converted {{ file.uploaded_at|timesince }} ago</div>
                            </div>
                            <i class="fas fa-ellipsis-v" style="color: var(--gray); cursor: pointer;"></i>
                        </div>
                    {% empty %}
                        <p>No recent files found.</p>
                    {% endfor %}
                </div>
            </div>
            
            <div class="sidebar-section">
                <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                <div class="quick-actions">
                    <div class="action-btn" id="settings">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </div>
                    <div class="action-btn" id="help-center">
                        <i class="fas fa-question-circle"></i>
                        <span>Help Center</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 FileConverter Pro. All rights reserved. <a href="#" style="color: var(--primary); text-decoration: none;">Terms</a> | <a href="#" style="color: var(--primary); text-decoration: none;">Privacy</a></p>
        </div>
    </footer>
    
    <script src="{% static 'js/after_login.js' %}"></script>
    <script src="{% static 'js/file_name.js' %}"></script>

</body>
</html>